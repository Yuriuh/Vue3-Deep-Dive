<script>

import { reactive, ref, computed, watchEffect, watch, onMounted } from 'vue'

function useFeature() {
  onMounted(() => console.log('mounted!'))
}

export default {
  template: ``,
  props: ['id'],

  data() {
    return {
      foo: 1, // feature A
      bar: 2, // feature B
      baz: 3, // feature C
    }
  },

  methods: {
    one() {}, // feature A
    two() {}, // feature B
    three() {} // feature C
  },

  watch: {

  },

  computed: {
    plusone() {
      return this.foo + 1
    }
  },

  setup(props) {
    useFeature()

    return {
      foo,
      plusone
    }
  }
}

</script>


<script>
// Composition API
import { reactive, ref, computed, watchEffect, watch, onMounted } from 'vue'

function useFeatureA() {
  const foo = ref(0)
  const plusone = computed(() => foo.value + 1)
  function incrementFoo() {}
  watchEffect(() => {

  })

  return {
    foo,
    plusone
  }
}

export default {
  template: `{{ event.count }}`,
  props: ['id'],

  setup(props) {
    // feature A
    const { foo, plusone } = useFeatureA()
    // feature B
    const { bar } = useFeatureB()
    // feature C
    const { baz } = useFeatureC()
    return {
      foo,
      plusonem,
      bar,
      baz
    }
  }
}

</script>

<script>
// Composition API
import { reactive, ref, computed, watchEffect, watch, onMounted } from 'vue'

export function useFeatureA() {
  const foo = ref(0)
  const plusone = computed(() => foo.value + 1)
  function incrementFoo() {}
  watchEffect(() => {

  })

  return {
    foo,
    plusone
  }
}

export function setup(props) {
  const { foo, plusone } = useFeatureA()
  const { bar } = useFeatureB()
  const { baz } = useFeatureC()
  return {
    foo,
    plusonem,
    bar,
    baz
  }
}

export default {
  template: `{{ event.count }}`,
  props: ['id'],
  setup,
}
</script>